- opening():
  - a
  - retract(1):
    - pull(-1):
      - b
    - row_high(0, True):
      - full_extend(0, True):
        - extend(0, True):
          - a
      - retract(0):
        - shift_pistons(0):
          - c b
        - row_high(-1, True):
          - full_extend(-1, True):
            - extend(-1, True):
              - b
  - only_sto():
    - bsto
  - full_row(2):
    - more_pistons(1):
      - d
    - row_high(2):
      - full_extend(2, False):
        - extend(2, False):
          - b
          - more_obs(needs_parity=True):
            - obs obs
          - extend(-1):
            - b
        - extra_pulses(2, False):
          - b
      - retract(2):
        - less_obs():
          - only_sto():
            - bsto
          - only_sto():
            - b bsto
        - pull(0):
          - more_pistons(0):
            - c
          - full_extend(0):
            - extend(0, False):
              - a
          - shift_pistons(0):
            - c b
        - shift_pistons(1):
          - d c
        - row_high(1, True):
          - full_extend(1, True):
            - extend(1, True):
              - a
          - retract(1):
            - pull(-1):
              - b
            - row_high(0, True):
              - full_extend(0, True):
                - extend(0, True):
                  - a
              - retract(0):
                - shift_pistons(0):
                  - c b
                - row_high(-1, True):
                  - full_extend(-1, True):
                    - extend(-1, True):
                      - b
  - storage_moves(a, bsto):
    - a bsto
  - full_row(3):
    - more_pistons(1):
      - d
    - row_high(3):
      - full_extend(3, False):
        - extend(3, False):
          - b
          - more_obs(needs_parity=True):
            - obs obs
          - more_pistons(0):
            - c
          - extend(0):
            - a
        - extra_pulses(3, False):
          - a
      - retract(3):
        - retract(0, no_recurse_first=False):
          - shift_pistons(0):
            - c b
          - row_high(-1, True):
            - full_extend(-1, True):
              - extend(-1, True):
                - b
        - less_obs():
          - only_sto():
            - bsto
          - only_sto():
            - b bsto
        - pull(1):
          - more_pistons(0):
            - c
          - full_extend(1):
            - extend(1, False):
              - b
              - a
          - full_row(-1):
            - row_high(-1):
              - full_extend(-1, False):
                - extend(-1, False):
                  - b
          - shift_pistons(0):
            - c b
        - row_high(2, True):
          - full_extend(2, True):
            - extend(2, True):
              - more_obs(needs_parity=False):
                - obs obs
              - extend(-1):
                - b
            - extra_pulses(2, True):
              - b
          - retract(2):
            - less_obs():
              - only_sto():
                - bsto
              - only_sto():
                - b bsto
            - pull(0):
              - more_pistons(0):
                - c
              - full_extend(0):
                - extend(0, False):
                  - a
              - shift_pistons(0):
                - c b
            - shift_pistons(1):
              - d c
            - row_high(1, True):
              - full_extend(1, True):
                - extend(1, True):
                  - a
              - retract(1):
                - pull(-1):
                  - b
                - row_high(0, True):
                  - full_extend(0, True):
                    - extend(0, True):
                      - a
                  - retract(0):
                    - shift_pistons(0):
                      - c b
                    - row_high(-1, True):
                      - full_extend(-1, True):
                        - extend(-1, True):
                          - b
  - storage_moves(a, b, bsto):
    - a b bsto
  - full_row(4):
    - more_pistons(2):
      - d fold fold
    - row_high(4):
      - full_extend(4, False):
        - extend(4, False):
          - b
          - more_obs(needs_parity=True):
            - obs obs
          - more_pistons(0):
            - c
          - extend(1):
            - b
            - a
        - extra_pulses(4, False):
          - a
      - retract(4):
        - retract(1, no_recurse_first=False):
          - pull(-1):
            - b
          - row_high(0, True):
            - full_extend(0, True):
              - extend(0, True):
                - a
            - retract(0):
              - shift_pistons(0):
                - c b
              - row_high(-1, True):
                - full_extend(-1, True):
                  - extend(-1, True):
                    - b
        - less_obs():
          - only_sto():
            - bsto
          - only_sto():
            - b bsto
        - pull(2):
          - more_pistons(1):
            - d
          - full_extend(2):
            - extend(2, False):
              - b
              - more_obs(needs_parity=True):
                - obs obs
              - extend(-1):
                - b
            - extra_pulses(2, False):
              - b
          - less_obs():
            - only_sto():
              - bsto
            - only_sto():
              - b bsto
          - full_row(0):
            - more_pistons(0):
              - c
            - row_high(0):
              - full_extend(0, False):
                - extend(0, False):
                  - a
              - retract(0):
                - shift_pistons(0):
                  - c b
                - row_high(-1, True):
                  - full_extend(-1, True):
                    - extend(-1, True):
                      - b
          - shift_pistons(1):
            - d c
          - shift_pistons(0):
            - c b
        - shift_pistons(2):
          - d c c b b fold fold
        - row_high(3, True):
          - full_extend(3, True):
            - extend(3, True):
              - more_obs(needs_parity=False):
                - obs obs
              - more_pistons(0):
                - c
              - extend(0):
                - a
            - extra_pulses(3, True):
              - a
          - retract(3):
            - retract(0, no_recurse_first=False):
              - shift_pistons(0):
                - c b
              - row_high(-1, True):
                - full_extend(-1, True):
                  - extend(-1, True):
                    - b
            - less_obs():
              - only_sto():
                - bsto
              - only_sto():
                - b bsto
            - pull(1):
              - more_pistons(0):
                - c
              - full_extend(1):
                - extend(1, False):
                  - b
                  - a
              - full_row(-1):
                - row_high(-1):
                  - full_extend(-1, False):
                    - extend(-1, False):
                      - b
              - shift_pistons(0):
                - c b
            - row_high(2, True):
              - full_extend(2, True):
                - extend(2, True):
                  - more_obs(needs_parity=False):
                    - obs obs
                  - extend(-1):
                    - b
                - extra_pulses(2, True):
                  - b
              - retract(2):
                - less_obs():
                  - only_sto():
                    - bsto
                  - only_sto():
                    - b bsto
                - pull(0):
                  - more_pistons(0):
                    - c
                  - full_extend(0):
                    - extend(0, False):
                      - a
                  - shift_pistons(0):
                    - c b
                - shift_pistons(1):
                  - d c
                - row_high(1, True):
                  - full_extend(1, True):
                    - extend(1, True):
                      - a
                  - retract(1):
                    - pull(-1):
                      - b
                    - row_high(0, True):
                      - full_extend(0, True):
                        - extend(0, True):
                          - a
                      - retract(0):
                        - shift_pistons(0):
                          - c b
                        - row_high(-1, True):
                          - full_extend(-1, True):
                            - extend(-1, True):
                              - b
  - storage_moves(a, b, bsto):
    - a b bsto
  - full_row(5):
    - more_pistons(2):
      - d fold fold
    - row_high(5):
      - full_extend(5, False):
        - extend(5, False):
          - b
          - more_obs(needs_parity=True):
            - obs obs
          - more_pistons(1):
            - d
          - extend(2):
            - b
            - more_obs(needs_parity=True):
              - obs a obs
            - extend(-1):
              - b
        - extra_pulses(5, False):
          - b b b b b
      - retract(5):
        - retract(2, no_recurse_first=False):
          - less_obs():
            - only_sto():
              - bsto
            - only_sto():
              - b bsto
          - pull(0):
            - more_pistons(0):
              - c
            - full_extend(0):
              - extend(0, False):
                - a
            - shift_pistons(0):
              - c b
          - shift_pistons(1):
            - d c
          - row_high(1, True):
            - full_extend(1, True):
              - extend(1, True):
                - a
            - retract(1):
              - pull(-1):
                - b
              - row_high(0, True):
                - full_extend(0, True):
                  - extend(0, True):
                    - a
                - retract(0):
                  - shift_pistons(0):
                    - c b
                  - row_high(-1, True):
                    - full_extend(-1, True):
                      - extend(-1, True):
                        - b
        - less_obs():
          - only_sto():
            - bsto
          - only_sto():
            - b bsto
        - pull(3):
          - more_pistons(1):
            - d
          - full_extend(3):
            - extend(3, False):
              - b
              - more_obs(needs_parity=True):
                - obs obs
              - more_pistons(0):
                - c
              - extend(0):
                - a
            - extra_pulses(3, False):
              - a
          - retract(0):
            - shift_pistons(0):
              - c b
            - row_high(-1, True):
              - full_extend(-1, True):
                - extend(-1, True):
                  - b
          - less_obs():
            - only_sto():
              - bsto
            - only_sto():
              - b bsto
          - full_row(1):
            - more_pistons(0):
              - c
            - row_high(1):
              - full_extend(1, False):
                - extend(1, False):
                  - b
                  - a
              - retract(1):
                - pull(-1):
                  - b
                - row_high(0, True):
                  - full_extend(0, True):
                    - extend(0, True):
                      - a
                  - retract(0):
                    - shift_pistons(0):
                      - c b
                    - row_high(-1, True):
                      - full_extend(-1, True):
                        - extend(-1, True):
                          - b
          - shift_pistons(1):
            - d c
          - shift_pistons(0):
            - c b
        - row_high(4, True):
          - full_extend(4, True):
            - extend(4, True):
              - more_obs(needs_parity=False):
                - obs obs
              - more_pistons(0):
                - c
              - extend(1):
                - b
                - a
            - extra_pulses(4, True):
              - a
          - retract(4):
            - retract(1, no_recurse_first=False):
              - pull(-1):
                - b
              - row_high(0, True):
                - full_extend(0, True):
                  - extend(0, True):
                    - a
                - retract(0):
                  - shift_pistons(0):
                    - c b
                  - row_high(-1, True):
                    - full_extend(-1, True):
                      - extend(-1, True):
                        - b
            - less_obs():
              - only_sto():
                - bsto
              - only_sto():
                - b bsto
            - pull(2):
              - more_pistons(1):
                - d
              - full_extend(2):
                - extend(2, False):
                  - b
                  - more_obs(needs_parity=True):
                    - obs obs
                  - extend(-1):
                    - b
                - extra_pulses(2, False):
                  - b
              - less_obs():
                - only_sto():
                  - bsto
                - only_sto():
                  - b bsto
              - full_row(0):
                - more_pistons(0):
                  - c
                - row_high(0):
                  - full_extend(0, False):
                    - extend(0, False):
                      - a
                  - retract(0):
                    - shift_pistons(0):
                      - c b
                    - row_high(-1, True):
                      - full_extend(-1, True):
                        - extend(-1, True):
                          - b
              - shift_pistons(1):
                - d c
              - shift_pistons(0):
                - c b
            - shift_pistons(2):
              - d c c b b fold fold
            - row_high(3, True):
              - full_extend(3, True):
                - extend(3, True):
                  - more_obs(needs_parity=False):
                    - obs obs
                  - more_pistons(0):
                    - c
                  - extend(0):
                    - a
                - extra_pulses(3, True):
                  - a
              - retract(3):
                - retract(0, no_recurse_first=False):
                  - shift_pistons(0):
                    - c b
                  - row_high(-1, True):
                    - full_extend(-1, True):
                      - extend(-1, True):
                        - b
                - less_obs():
                  - only_sto():
                    - bsto
                  - only_sto():
                    - b bsto
                - pull(1):
                  - more_pistons(0):
                    - c
                  - full_extend(1):
                    - extend(1, False):
                      - b
                      - a
                  - full_row(-1):
                    - row_high(-1):
                      - full_extend(-1, False):
                        - extend(-1, False):
                          - b
                  - shift_pistons(0):
                    - c b
                - row_high(2, True):
                  - full_extend(2, True):
                    - extend(2, True):
                      - more_obs(needs_parity=False):
                        - obs obs
                      - extend(-1):
                        - b
                    - extra_pulses(2, True):
                      - b
                  - retract(2):
                    - less_obs():
                      - only_sto():
                        - bsto
                      - only_sto():
                        - b bsto
                    - pull(0):
                      - more_pistons(0):
                        - c
                      - full_extend(0):
                        - extend(0, False):
                          - a
                      - shift_pistons(0):
                        - c b
                    - shift_pistons(1):
                      - d c
                    - row_high(1, True):
                      - full_extend(1, True):
                        - extend(1, True):
                          - a
                      - retract(1):
                        - pull(-1):
                          - b
                        - row_high(0, True):
                          - full_extend(0, True):
                            - extend(0, True):
                              - a
                          - retract(0):
                            - shift_pistons(0):
                              - c b
                            - row_high(-1, True):
                              - full_extend(-1, True):
                                - extend(-1, True):
                                  - b
  - a b bsto
  - d fold fold fold
  - worm worm
  - fold
  - f d c c b