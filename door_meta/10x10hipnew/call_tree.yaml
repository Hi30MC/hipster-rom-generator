- f
- tape_in_the_phokin_piston_stack():
  - d fold fold b sto
  - fold f sto a fold fold fold f sto a fold f sto a fold fold fold f sto a fold f sto a fold fold fold f sto a fold f sto a fold fold fold f sto a fold f sto a fold fold fold f sto a fold f sto a fold fold fold f sto a fold f sto a fold fold fold f sto a
  - worm d sto a sto
  - row_high(2):
    - full_extend(2, False, no_row_2_opt=True):
      - extend(2, False, no_row_2_opt=True):
        - b
        - more_obs(needs_parity=True):
          - obs obs
        - extend(-1):
          - b
      - extra_pulses(2, False):
        - b
    - retract(2):
      - less_obs():
        - sto sto
      - pull(0):
        - more_pistons(0):
          - c
        - full_extend(0, no_row_2_opt=True):
          - extend(0, False, no_row_2_opt=True):
            - a
        - shift_pistons(0):
          - c b
      - shift_pistons(1):
        - d c
      - row_high(1, True):
        - full_extend(1, True, no_row_2_opt=True):
          - extend(1, True, no_row_2_opt=True):
            - a
        - retract(1):
          - pull(-1):
            - b
          - row_high(0, True):
            - full_extend(0, True, no_row_2_opt=True):
              - extend(0, True, no_row_2_opt=True):
                - a
            - retract(0):
              - shift_pistons(0):
                - c b
              - row_high(-1, True):
                - full_extend(-1, True, no_row_2_opt=True):
                  - extend(-1, True, no_row_2_opt=True):
                    - b
  - shift_pistons(2):
    - fold fold
  - shift_pistons(1):
    - d c
  - shift_pistons(0):
    - c b